<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color: white;
        }
        * {
            color: black;
        }
        button {
            color: white;
            background-color: rgb(44, 119, 0);
            border: none;
            border-radius: 5px;
            box-shadow: 1px 1px 1px;
        }
    </style>
</head>
<body>
    <p>hello!!<br>3 - 12</p>
    <button id="btn">Click Here!!</button>

    <input type="range" >
    <!-- div ì—¬ëŸ¬ê°œê°€ ì•ˆë³´ì´ê²Œ ìˆ¨ê²¨ì ¸ ìˆìŒ => shadow DOM -->

    <div id="shadow"></div>
    <br><br><br>

    <custom-input name="Id"></custom-input>
    <label for="">style ì˜í–¥ì„ ë°›ì„ê¹Œ?</label>

    <template id="shadowHtml">
        <label>input your ID</label><input>
        <style>label {color : red}</style>
    </template>


    <script>

        // âœ… shadow DOM ë§Œë“œëŠ” ë²•
        // div ì•ˆì— shadowRoot ì¡´ì¬, ê·¸ ì•ˆì— html ìˆ¨ê¸¸ ìˆ˜ ìˆìŒ

        // shadowRoot ì—´ì–´ì£¼ê¸°
        document.querySelector('#shadow').attachShadow({mode : 'open'})

        // html ì¶”ê°€í•˜ê¸°
        document.querySelector('#shadow').shadowRoot.innerHTML = 
        '<p>Hello, shadowDOM!!</p>'

        // ì“°ëŠ” ì´ìœ ? ì˜ˆë»ì„œ ê·¸ ì´ìƒ ì´í•˜ë„ ì•„ë‹˜


        // âœ… Web Components + shadow DOM ==> ì™„ë²½í•œ HTML ëª¨ë“ˆ
        class CustomTest extends HTMLElement{
            connectedCallback(){

                // web componentsì— style ë„£ê³  ì‹¶ë‹¤ë©´?
                // ë°©ë²•1 ì§ì ‘ style ë„£ê¸°
                /*
                this.innerHTML = `<label>input your ID</label><input>
                    <style>label {color : red}</style>
                `
                */
                // ì´ë ‡ê²Œ í•˜ë©´ ë‹¤ë¥¸ label íƒœê·¸ë“¤ë„ ì˜í–¥ì„ ë°›ìŒ
                // classë‚˜ id ì§€ì •í•˜ê¸°ì—ë„ ë‹¤ë¥¸ íƒœê·¸ë“¤, ì»´í¬ë„ŒíŠ¸ë“¤ ê°„ì— ê²¹ì¹  ìœ„í—˜ ìˆìŒ

                // ğŸ”¸ í•´ê²°ë²• => shadow DOM ì•ˆì— ë„£ì!!
                // shadow DOMì— ë„£ì€ ê²ƒë“¤ì€ ì™¸ë¶€ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ!!
                /*
                this.attachShadow({mode : 'open'});
                this.shadowRoot.innerHTML = `<label>input your ID</label><input>
                <style>label {color : red}</style>
                `
                */
                // ë™ì¼í•˜ê²Œ ì¶œë ¥, style ì˜¤ì—¼ì‹œí‚¤ì§€ ì•ŠìŒ!!

                // +) html íƒœê·¸ë“¤ ì €ë ‡ê²Œ ì“°ëŠ”ê±° ë³´ê¸°ì‹«ì–´!! => html ì„ì‹œë³´ê´€í•¨ ì“°ì
                // => templateíƒœê·¸!!
                //      => ì•ˆì— ì“°ë©´ í™”ë©´ì— ì¶œë ¥ë˜ì§€ëŠ” ì•ŠìŒ
                this.attachShadow({mode : 'open'});
                this.shadowRoot.append(shadowHtml.content.cloneNode(true));

                // shadow DOMì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë¶€ì°©ê°€ëŠ¥
                let el = this.shadowRoot.querySelector('label');
                el.addEventListener('click', function(){
                    console.log('í´ë¦­í•¨');
                })

            }
        }
        customElements.define('custom-input', CustomTest)


        


    </script>

    
</body>
</html>